借用大神hackerzhou的源码，做了一些小的调整变更。有兴趣的一起嗨起来。